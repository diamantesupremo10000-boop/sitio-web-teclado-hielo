/* styles.css
   Teclado de Hielo — estética neón, fondo oscuro, partículas y 3D
   Accesibilidad: foco visible, contraste y prefer-reduced-motion handling
*/

/* ============ Variables ============ */
:root{
  --bg:#071021;
  --glow-1: #7fe3ff;
  --glow-2: #7bd8ff;
  --accent: #c9f1ff;
  --key-bg: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  --glass: rgba(255,255,255,0.03);
  --card: rgba(255,255,255,0.02);
  --shadow: 0 10px 30px rgba(4,8,20,0.6);
  --blur: 12px;
  --size: clamp(14rem, 18vw, 26rem);
  --radius: 14px;
  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* ============ Base ============ */
* {box-sizing: border-box;}
html,body {height:100%;}
body{
  margin:0;
  font-family:var(--font-sans);
  background: radial-gradient(1200px 600px at 10% 10%, rgba(30,120,160,0.06), transparent),
              radial-gradient(900px 500px at 90% 90%, rgba(80,160,220,0.04), transparent),
              var(--bg);
  color: #dff6ff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:2rem;
}

/* Screen-reader only */
.sr-only {position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px;}

.stage {position:relative; width:100%; max-width:1200px;}

/* ============ Canvas (particle) size ============ */
#snowCanvas {
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}

/* ============ Wrapper ============ */
.wrap {
  position:relative;
  z-index:2;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:2rem;
  align-items:center;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  padding:2rem;
  border-radius: 20px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(var(--blur)) saturate(120%);
  border: 1px solid rgba(255,255,255,0.03);
}

/* Responsive -> stack */
@media (max-width:900px){
  .wrap { grid-template-columns: 1fr; padding:1.25rem; gap:1rem; }
}

/* ============ Hero left ============ */
.hero {display:flex; align-items:center; gap:1.5rem;}
.hero-left {max-width:520px;}
.brand {
  font-size: clamp(1.6rem, 3.6vw, 2.8rem);
  margin:0;
  letter-spacing: -0.02em;
  display:flex;
  align-items:center;
  gap:.6rem;
  line-height:1;
  text-shadow:
    0 2px 8px rgba(0,80,110,0.18),
    0 0 30px rgba(125,230,255,0.06);
}
.ice {
  color:var(--accent);
  background: linear-gradient(180deg,#e6fbff, #a8f0ff);
  -webkit-background-clip: text;
  background-clip:text;
  color:transparent;
}

/* tagline and controls */
.tagline {margin:.4rem 0 1rem; color: rgba(220,250,255,0.85);}
.controls {display:flex; gap:0.75rem; align-items:center; flex-wrap:wrap;}

.btn {
  appearance:none;
  border:0;
  padding:.6rem .9rem;
  border-radius:10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  box-shadow: 0 6px 18px rgba(0,70,100,0.25);
  color:var(--accent);
  cursor:pointer;
  font-weight:600;
  transition: transform .16s ease, box-shadow .16s ease;
  backdrop-filter: blur(6px);
}
.btn:active {transform: translateY(1px) scale(.995);}

.toggle {display:inline-flex; gap:.6rem; align-items:center; color:rgba(220,250,255,0.8); font-size:.95rem;}
.toggle input {accent-color: var(--glow-1); transform: translateY(1px);}

/* ============ Keyboard (3D) ============ */
.hero-right {display:flex; align-items:center; justify-content:center; perspective:1200px;}
.keyboard {
  width: var(--size);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  padding:1rem;
  border-radius: calc(var(--radius) + 2px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.65), inset 0 1px 0 rgba(255,255,255,0.02);
  transform: translateZ(0);
  transition: transform .45s cubic-bezier(.2,.9,.3,1);
}
.row {display:flex; gap:.6rem; margin:.45rem 0; justify-content:center;}

/* Each key */
.key {
  --k-w: calc((var(--size) / 5) - 1rem);
  width: clamp(44px, 8vw, 78px);
  height: clamp(44px, 7vw, 58px);
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.04);
  background: var(--key-bg);
  color: #e8fbff;
  font-weight:700;
  letter-spacing: .04em;
  display:inline-grid;
  place-items:center;
  cursor:pointer;
  transform-style: preserve-3d;
  transition: transform .25s cubic-bezier(.2,.9,.3,1), box-shadow .25s ease;
  box-shadow: 0 8px 20px rgba(2,12,24,0.55), 0 0 18px rgba(120,220,255,0.03) inset;
  position:relative;
  outline: none;
}

/* wide key */
.key.wide { width: calc(100% - 120px); max-width: 420px; border-radius: 12px; font-weight:800; letter-spacing:.06em; }

/* action key */
.key.action {
  background: linear-gradient(180deg, rgba(124,210,255,0.06), rgba(150,230,255,0.02));
  box-shadow: 0 12px 34px rgba(40,180,240,0.08);
}

/* floating 3D illusion using pseudo-element */
.key::after{
  content:'';
  position:absolute;
  inset:0;
  border-radius:inherit;
  transform:translateZ(-14px) scale(.99);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
  filter: blur(8px);
  z-index:-1;
  opacity:.9;
  transition: transform .25s cubic-bezier(.2,.9,.3,1);
}

/* Hover & focus (big visual feedback) */
.key:hover, .key:focus {
  transform: translateY(-10px) rotateX(8deg) rotateZ(-1deg);
  box-shadow: 0 28px 60px rgba(0,100,140,0.36), 0 0 40px rgba(110,230,255,0.08);
  text-shadow: 0 6px 18px rgba(0,100,140,0.25);
}
.key:focus { box-shadow: 0 30px 90px rgba(80,220,255,0.12); border-color: rgba(140,240,255,0.35); }

/* neon glow on active press */
.key:active{
  transform: translateY(-4px) scale(.99);
  box-shadow: 0 10px 26px rgba(0,120,160,0.28), 0 0 42px rgba(125,230,255,0.12) inset;
}

/* subtle gradient highlights per-row using nth-child */
.row:nth-child(1) .key { background-image: linear-gradient(180deg, rgba(150,230,255,0.03), rgba(255,255,255,0.005)); }
.row:nth-child(2) .key { background-image: linear-gradient(180deg, rgba(120,210,255,0.02), rgba(255,255,255,0.01)); }
.row:nth-child(3) .key { background-image: linear-gradient(180deg, rgba(100,190,255,0.02), rgba(255,255,255,0.005)); }

/* subtle light streak overlay */
.keyboard::before {
  content:'';
  position:absolute; left:0; right:0; top:0; bottom:0;
  pointer-events:none;
  background: linear-gradient(120deg, rgba(255,255,255,0.02), transparent 25%, rgba(255,255,255,0.015));
  border-radius: inherit;
  mix-blend-mode: screen;
}

/* ============ Info & Footer ============ */
.info {grid-column: 1 / -1; margin-top:.5rem; color: rgba(200,250,255,0.75); text-align:center;}
.credits {position:relative; z-index:2; text-align:center; margin-top:1rem; color:rgba(200,240,255,0.35); font-size:.85rem;}

/* ============ Reduced motion ============ */
@media (prefers-reduced-motion: reduce){
  * { transition: none !important; animation: none !important; scroll-behavior: auto !important; }
  .key { transform: none; }
  #snowCanvas { display:none; }
}